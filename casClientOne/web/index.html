<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="./js/jquery/jquery-1.9.1.min.js" type="text/javascript"></script>
    <title>Title</title>
</head>
<body>

HttpServletRequest.getRemoteUser() <button type="button"  onclick="getRemoteUser()" >用户名</button>
<br>
AssertionHolder.getAssertion().getPrincipal().getName() <button type="button"  onclick="getPrincipal()" >用户名</button>

<br>
 <button type="button"  onclick="logout()" >退出</button>
</body>

<script type="text/javascript">

    $(function(){

    });

    function getRemoteUser() {
        $.ajax({
            url: "./UserServlet",
            type: 'POST',
            async: true,
            dataType: "json",
            contentType: "application/json",
            //要发送到服务器的数据
            data: {},
            beforeSend: function (XMLHttpRequest) {

            },
            //当请求失败时调用的函数
            error: function (XMLHttpRequest, textStatus, errorThrown) {

            },
            //当请求成功时调用的函数
            success: function (data, textStatus) {
                alert(JSON.stringify(data));
            },
            //当请求完成时调用的函数
            complete: function (XMLHttpRequest, textStatus) {

            }
        });
    }

    function getPrincipal(){
        $.ajax({
            url: "./PrincipalServlet",
            type: 'POST',
            async: true,
            dataType: "json",
            contentType: "application/json",
            //要发送到服务器的数据
            data: {},
            beforeSend: function (XMLHttpRequest) {

            },
            //当请求失败时调用的函数
            error: function (XMLHttpRequest, textStatus, errorThrown) {

            },
            //当请求成功时调用的函数
            success: function (data, textStatus) {
                alert(JSON.stringify(data));
            },
            //当请求完成时调用的函数
            complete: function (XMLHttpRequest, textStatus) {

            }
        });
    }

    function logout() {
        window.location.href="LogoutServlet"
    }
</script>

</html>