<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <title th:text="${title}"></title>

    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Access-Control-Allow-Origin" content="*">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <link rel="icon" th:href="@{/images/favicon.ico}">
    <link rel="stylesheet" th:href="@{/plugin/layui/css/layui.css}" media="all">

    <script th:src="@{/plugin/layui/layui.js}" charset="utf-8"></script>
    <script th:src="@{/plugin/jquery/jquery-1.9.1.min.js}" type="text/javascript"></script>
    <script th:src="@{/plugin/jquery/jquery.blockUI.js}" type="text/javascript"></script>
    <script th:src="@{/plugin/base/base.tools.js}" type="text/javascript"></script>
    <script th:src="@{/plugin/cookie/jquery.cookie.js}" type="text/javascript"></script>
    <script th:src="@{/plugin/json/json2.js}" type="text/javascript"></script>

    <script th:src="@{/front/test/test.js}" type="text/javascript"></script>


    <link rel="stylesheet" th:href="@{/plugin/dropzone/dist/dropzone.css}" media="all">

    <script th:src="@{/plugin/dropzone/dist/dropzone.js}" type="text/javascript"></script>

    <!--[if lt IE 9]>
    <script th:src="@{/plugin/ie/html5.min.js}"></script>
    <script th:src="@{/plugin/ie/respond.min.js}"></script>
    <![endif]-->
    <style>


    </style>
</head>
<body>
<div id="myDropzone" class="dropzone"  >点我上传</div>

<script  th:inline="javascript">
    var context = [[@{/}]];
        Dropzone.autoDiscover = false;
    var myDropzone = new Dropzone("#myDropzone", {
        url: context+"file/uploadFile",
        method: "post",  //也可用put
        paramName: "file", //默认为file

        maxFiles: 1,//一次性上传的文件数量上限
        maxFilesize: 20, //文件大小，单位：MB
        acceptedFiles: ".jpg,.gif,.png,.jpeg", //上传的类型
        addRemoveLinks: true,
        parallelUploads: 1,//一次上传的文件数量
        //previewsContainer:"#preview",//上传图片的预览窗口
        dictDefaultMessage: '拖动文件至此或者点击上传',
        dictMaxFilesExceeded: "您最多只能上传1个文件！",
        dictResponseError: '文件上传失败!',
        dictInvalidFileType: "文件类型只能是*.jpg,*.gif,*.png,*.jpeg。",
        dictFallbackMessage: "浏览器不受支持",
        dictFileTooBig: "文件过大上传文件最大支持.",
        dictRemoveLinks: "删除",
        dictCancelUpload: "取消",
        //params:{userid:123},
        init: function () {
            this.on('sending', function (data, xhr, formData) {
                //向后台发送该文件的参数
                formData.append('userid', "123");
            });
            this.on("addedfile", function (file) {
                //上传文件时触发的事件

            });
            this.on("success", function (file, data) {
                //上传成功触发的事件
                alert(data);

            });
            this.on("error", function (file, data) {
                //上传失败触发的事件

            });
            this.on("removedfile", function (file) {//删除文件触发结果

            });
        }
    });
</script>
</body>
</html>